<!DOCTYPE html>
<!-- saved from url=(0026)https://digitaljs.tilk.eu/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" media="screen" href="./DigitalJS Online_files/symbola"><link rel="apple-touch-icon" sizes="180x180" href="https://digitaljs.tilk.eu/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://digitaljs.tilk.eu/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://digitaljs.tilk.eu/favicon-16x16.png"><link rel="manifest" href="https://digitaljs.tilk.eu/site.webmanifest"><link rel="mask-icon" href="https://digitaljs.tilk.eu/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><title>DigitalJS Online</title><script defer="defer" src="./DigitalJS Online_files/bundle.js.download"></script><link href="./DigitalJS Online_files/main.css" rel="stylesheet"></head><body style="cursor: auto;"><input type="file" style="display:none" id="input_load"><div class="main-wrapper-grid"><div id="toolbar"><div class="btn-toolbar" role="toolbar" aria-label="Toolbar"><div class="mr-2 upper-toolbar-group digitaljs-logo" title="DigitalJS"></div><div id="synthesize-bar"><form><button id="synthesize-btn" title="Synthesize and simulate!" type="submit" class="btn btn-primary"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg> Run</button></form></div><div class="symbola btn-group mr-2 upper-toolbar-group" role="group" aria-label="Time control"><button name="pause" type="button" class="btn btn-secondary" title="Pause simulation" disabled="">‚è∏</button> <button name="resume" type="button" class="btn btn-secondary" title="Resume simulation">‚ñ∂</button> <button name="fastfw" type="button" class="btn btn-secondary" title="Fast-forward simulation">‚è©</button> <button name="single" type="button" class="btn btn-secondary" title="Run single time step">‚Üí</button> <button name="next" type="button" class="btn btn-secondary" title="Run until next event">‚á•</button></div><div class="input-group mr-2 upper-toolbar-group"><div class="input-group-prepend"><span class="symbola input-group-text" title="Current tick">‚è±</span></div><input class="form-control" disabled="disabled" id="tick"></div><div class="symbola btn-group mr-2 upper-toolbar-group" role="group" aria-label="Saving and sharing"><button name="load" type="button" class="btn btn-secondary" title="Load from file">üìÅ</button> <button name="save" type="button" class="btn btn-secondary" title="Save to file">üíæ</button> <button name="link" type="button" class="btn btn-secondary" title="" data-original-title="Get link">üîó</button></div></div></div><div class="grid"><div class="editor-circuit-wrapper"><div id="editor-tab" class="tab-wrapper editor-tab"><nav><div class="nav nav-tabs" role="tablist"><a href="https://digitaljs.tilk.eu/#start" class="nav-item nav-link active" role="tab" data-toggle="tab" aria-controls="start" aria-selected="true">Setup</a> <a href="https://digitaljs.tilk.eu/#iopanel" class="nav-item nav-link" role="tab" data-toggle="tab" aria-controls="start" aria-selected="true">I/O</a><a class="nav-item nav-link" role="tab" data-toggle="tab" aria-selected="false" href="https://digitaljs.tilk.eu/#file0" aria-controls="file0">cordic.v<button class="close closeTab" type="button">√ó</button><button class="close closeTab" type="button">üì•</button></a><a class="nav-item nav-link" role="tab" data-toggle="tab" aria-selected="false" href="https://digitaljs.tilk.eu/#file1" aria-controls="file1">topmodule.v<button class="close closeTab" type="button">√ó</button><button class="close closeTab" type="button">üì•</button></a></div></nav><div class="tab-content"><div role="tabpanel" class="tab-pane tab-padded active" id="start"><h1 class="text-primary">DigitalJS Online</h1><p>This is a demonstration app for the <a href="https://github.com/tilk/digitaljs">DigitalJS</a> digital logic simulator and the <a href="https://github.com/tilk/yosys2digitaljs">yosys2digitaljs</a> netlist format converter, by <a href="http://www.tilk.eu/">Marek Materzok</a>, <a href="http://www.ii.uni.wroc.pl/">University of Wroc≈Çaw</a>. The source files <a href="https://github.com/tilk/digitaljs_online">are on Github</a>. Contributions are welcome! This was made possible by the <a href="http://www.clifford.at/yosys/">Yosys</a> open-source hardware synthesis framework.</p><p>Create a new tab and enter your SystemVerilog code, or load an example by using the dropdown menu, and press the Synthesize button to start the simulation.</p><div class="form-group"><div class="form-inline"><input name="newtabname" placeholder="file name" pattern="[a-zA-Z0-9_-]*" spellcheck="false" autocapitalize="false" autocomplete="false" defaultvalue="input" class="form-control mr-1"><div class="dropdown"><button class="btn btn-secondary dropdown-toggle mr-1" type="button" id="exten" data-extension="sv" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">.sv</button><div class="dropdown-menu" aria-labelledby="excode" id="extens"><a class="dropdown-item" href="https://digitaljs.tilk.eu/#" data-extension="sv">.sv (SystemVerilog, Yosys native)</a> <a class="dropdown-item" href="https://digitaljs.tilk.eu/#" data-extension="v">.v (Verilog, Yosys native)</a> <a class="dropdown-item" href="https://digitaljs.tilk.eu/#" data-extension="vh">.vh (Verilog hex file)</a> <a class="dropdown-item" href="https://digitaljs.tilk.eu/#" data-extension="lua">.lua (Lua script)</a></div></div><button class="btn btn-primary" type="button" id="newtab">Create file</button></div></div><div id="dropzone" tabindex="0" role="button">Drop your files here or click for a file dialog</div><div class="form-group"><div class="dropdown"><button class="btn btn-secondary dropdown-toggle" type="button" id="excode" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Load example code</button><div class="dropdown-menu" aria-labelledby="excode" id="excodes"><a class="dropdown-item" href="https://digitaljs.tilk.eu/">SR latch</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">SR latch (negated inputs)</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">D latch</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">D flip-flop (master-slave)</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">Full adder</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">Serial adder</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">Accumulating adder</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">Priority encoder</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">Linear-feedback shift register</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">Finite state machine</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">ROM</a><a class="dropdown-item" href="https://digitaljs.tilk.eu/">RAM</a></div></div></div><form><div class="form-group"><label for="files">Additional SystemVerilog files:</label> <input type="file" class="form-control-file" id="files" multiple="true"></div><div class="form-group form-check" data-bs-toggle="tooltip" title="" data-original-title="Enables Yosys optimizations of the synthesized circuit. This might make the circuit differ significantly to its HDL specification. This corresponds to the &#39;opt -full&#39; Yosys command."><input type="checkbox" id="opt" class="form-check-input"> <label for="opt" class="form-check-label">Optimize in Yosys</label></div><div class="form-group form-check" data-bs-toggle="tooltip" title="" data-original-title="Enables post-processing of Yosys output to reduce the number of components and improve readability."><input type="checkbox" id="transform" class="form-check-input" checked="checked"> <label for="transform" class="form-check-label">Simplify diagram</label></div><div class="form-group form-check" data-bs-toggle="tooltip" title="" data-original-title="Enables checking for common problems using the Verilator compiler."><input type="checkbox" id="lint" class="form-check-input" checked="checked"> <label for="lint" class="form-check-label">Lint source code using <a href="https://verilator.org/">Verilator</a></label></div><div class="form-group" data-bs-toggle="tooltip" title="" data-original-title="Changes how the circuit elements are automatically positioned after synthesis."><label for="layout">Layout engine</label> <select id="layout" class="form-control"><option value="elkjs">ElkJS (more readable)</option><option value="dagre">Dagre (legacy)</option></select></div><div class="form-group" data-bs-toggle="tooltip" title="" data-original-title="Changes how the synthesized circuit is simulated. The synchronous engine is well tested, but it&#39;s also very slow."><label for="engine">Simulation engine</label> <select id="engine" class="form-control"><option value="worker">WebWorker (faster and responsive)</option><option value="synch">Synchronous (extensible but slow)</option></select></div><div class="form-group" data-bs-toggle="tooltip" title="" data-original-title="Enables finite state machine processing in Yosys. This corresponds to the &#39;fsm&#39; and &#39;fsm -nomap&#39; Yosys commands."><label for="fsm">FSM transform (experimental)</label> <select id="fsm" class="form-control"><option value="">No FSM transform</option><option value="yes">FSM transform</option><option value="nomap">FSM as circuit element</option></select></div><div class="form-group form-check" data-bs-toggle="tooltip" title="" data-original-title="This corresponds to the &#39;fsm_expand&#39; Yosys command."><input type="checkbox" id="fsmexpand" class="form-check-input"> <label for="fsmexpand" class="form-check-label">Merge more logic into FSM</label></div></form></div><div role="tabpanel" class="tab-pane tab-padded" id="iopanel"><form onsubmit="return false"><div data-iopanel="input"><div class="form-group row"><label class="col-sm-4 control-label" for="iopanel-dev1-0">rst_n</label><div class="col-sm-8 form-inline"><div class="form-check"><input type="checkbox" id="iopanel-dev1-0"></div></div></div><div class="form-group row"><label class="col-sm-4 control-label" for="iopanel-dev2-0">start</label><div class="col-sm-8 form-inline"><div class="form-check"><input type="checkbox" id="iopanel-dev2-0"></div></div></div><div class="form-group row"><label class="col-sm-4 control-label" for="iopanel-dev3-0">angle_in</label><div class="col-sm-8 form-inline"><input type="text" class="mr-2" size="4" maxlength="4" pattern="[0-9a-fx]*"><select name="base"><option value="bin">bin</option><option value="dec">dec</option><option value="dec2c">dec2c</option><option value="hex" selected="selected">hex</option><option value="oct">oct</option></select></div></div><div class="form-group row"><label class="col-sm-4 control-label">x_out</label><div class="col-sm-8 form-inline"><input type="text" class="mr-2" disabled="" size="4"><select name="base"><option value="bin">bin</option><option value="dec">dec</option><option value="dec2c">dec2c</option><option value="hex" selected="selected">hex</option><option value="oct">oct</option></select></div></div><div class="form-group row"><label class="col-sm-4 control-label">y_out</label><div class="col-sm-8 form-inline"><input type="text" class="mr-2" disabled="" size="4"><select name="base"><option value="bin">bin</option><option value="dec">dec</option><option value="dec2c">dec2c</option><option value="hex" selected="selected">hex</option><option value="oct">oct</option></select></div></div><div class="form-group row"><label class="col-sm-4 control-label">done</label><div class="col-sm-8 form-inline"><div class="form-check"><input type="checkbox" disabled=""></div></div></div></div><div data-iopanel="output"></div></form></div><div role="tabpanel" class="tab-pane" id="file0" data-filename="cordic" data-extension="v" data-fullname="cordic.v"><textarea style="display: none;"></textarea><div class="CodeMirror cm-s-default" translate="no"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 56px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; min-height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="bottom: 15px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 52px;"><div style="height: 100%; min-height: 1px; width: 870px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true" style="height: 15px; width: 15px;"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 52px; margin-bottom: -15px; border-right-width: 35px; min-height: 4040px; min-width: 869.146px; padding-right: 0px; padding-bottom: 15px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">================================================================================</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- Module: cordic.v</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- Description: A pipelined CORDIC (COordinate Rotation DIgital Computer)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--              engine to calculate sine and cosine.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">================================================================================</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- THEORY OF OPERATION:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- This module implements the CORDIC algorithm in "Rotation Mode" to find the</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- sine and cosine of an input angle.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 1. Goal: Rotate a vector (x, y) by a given angle 'z' until 'z' becomes 0.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 2. Initialization: We start with a known vector (x=1, y=0). If we rotate</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--    this vector by the input angle 'angle_in', its final coordinates will be</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--    (x_final = cos(angle_in), y_final = sin(angle_in)).</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 3. The Trick: Instead of a true rotation (which requires multipliers), CORDIC</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--    performs a series of micro-rotations using angles whose tangents are</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--    powers of 2 (i.e., arctan(2^-i)). This simplifies the rotation math to</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--    bit-shifts, adds, and subtracts, which are very cheap in hardware.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 4. Fixed-Point Arithmetic:</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--    - We use signed 16-bit numbers.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--    - Format is Q2.14 (2 integer bits, 14 fractional bits). This allows us</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--      to represent numbers from -2 to +1.999...</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">25</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--    - Angles are scaled: +90 degrees is represented as 16384 (which is pi/2</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">26</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--      in radians, scaled by 2^14).</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">27</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--    - Initial X value is 1/K, where K is the CORDIC gain (~1.647). This</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">28</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--      pre-scales the vector so the final output has unity gain.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">29</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--      1/K ~ 0.60725. In Q2.14, this is 0.60725 * 2^14 = 9950.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">30</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">31</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*/</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">32</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">module</span> <span class="cm-variable">cordic</span> <span class="cm-def">#</span><span class="cm-bracket">(</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">33</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">parameter</span> <span class="cm-variable">DATA_WIDTH</span> <span class="cm-meta">=</span> <span class="cm-number">16</span>,  <span class="cm-comment">// Width of x, y, z registers</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">34</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">parameter</span> <span class="cm-variable">ITERATIONS</span> <span class="cm-meta">=</span> <span class="cm-number">16</span>   <span class="cm-comment">// Number of CORDIC iterations (pipeline stages)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">35</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span> <span class="cm-bracket">(</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">36</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">input</span>                       <span class="cm-variable">clk</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">37</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">input</span>                       <span class="cm-variable">rst_n</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">38</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">input</span>                       <span class="cm-variable">start</span>,      <span class="cm-comment">// Start computation signal</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">39</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">input</span>      <span class="cm-keyword">signed</span> <span class="cm-bracket">[</span><span class="cm-variable">DATA_WIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">angle_in</span>,   <span class="cm-comment">// Input angle in scaled format</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">40</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">41</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">output</span> <span class="cm-keyword">reg</span> <span class="cm-keyword">signed</span> <span class="cm-bracket">[</span><span class="cm-variable">DATA_WIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">x_out</span>,      <span class="cm-comment">// cos(angle_in)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">42</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">output</span> <span class="cm-keyword">reg</span> <span class="cm-keyword">signed</span> <span class="cm-bracket">[</span><span class="cm-variable">DATA_WIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">y_out</span>,      <span class="cm-comment">// sin(angle_in)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">43</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">output</span> <span class="cm-keyword">reg</span>                  <span class="cm-variable">done</span>        <span class="cm-comment">// Computation finished</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">44</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">45</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">46</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">//--------------------------------------------------------------------------</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">47</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">// 1. Angle Look-Up Table (LUT) for arctan(2^-i)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">48</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">//--------------------------------------------------------------------------</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">49</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">// These are the pre-calculated, fixed-point values for our micro-rotations.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">50</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">reg</span> <span class="cm-keyword">signed</span> <span class="cm-bracket">[</span><span class="cm-variable">DATA_WIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">angle_lut</span> <span class="cm-bracket">[</span><span class="cm-number">0</span>:<span class="cm-variable">ITERATIONS</span><span class="cm-meta">-</span><span class="cm-number">1</span><span class="cm-bracket">]</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">51</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">52</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">initial</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">53</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-comment">// Values are  (arctan(2^-i) in degrees )* (16384/90) to scale correctly</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">54</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">0</span><span class="cm-bracket">]</span>  <span class="cm-meta">=</span> <span class="cm-number">16'd8192</span>; <span class="cm-comment">// 45.0 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">55</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">1</span><span class="cm-bracket">]</span>  <span class="cm-meta">=</span> <span class="cm-number">16'd4836</span>; <span class="cm-comment">// 26.565 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">56</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">2</span><span class="cm-bracket">]</span>  <span class="cm-meta">=</span> <span class="cm-number">16'd2554</span>; <span class="cm-comment">// 14.036 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">57</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">3</span><span class="cm-bracket">]</span>  <span class="cm-meta">=</span> <span class="cm-number">16'd1297</span>; <span class="cm-comment">// 7.125 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">58</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">4</span><span class="cm-bracket">]</span>  <span class="cm-meta">=</span> <span class="cm-number">16'd652</span>;  <span class="cm-comment">// 3.576 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">59</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">5</span><span class="cm-bracket">]</span>  <span class="cm-meta">=</span> <span class="cm-number">16'd326</span>;  <span class="cm-comment">// 1.79 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">60</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">6</span><span class="cm-bracket">]</span>  <span class="cm-meta">=</span> <span class="cm-number">16'd163</span>;  <span class="cm-comment">// 0.895 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">61</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">7</span><span class="cm-bracket">]</span>  <span class="cm-meta">=</span> <span class="cm-number">16'd81</span>;   <span class="cm-comment">// 0.447 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">62</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">8</span><span class="cm-bracket">]</span>  <span class="cm-meta">=</span> <span class="cm-number">16'd41</span>;   <span class="cm-comment">// 0.224 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">63</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">9</span><span class="cm-bracket">]</span>  <span class="cm-meta">=</span> <span class="cm-number">16'd20</span>;   <span class="cm-comment">// 0.112 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">64</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">10</span><span class="cm-bracket">]</span> <span class="cm-meta">=</span> <span class="cm-number">16'd10</span>;   <span class="cm-comment">// 0.056 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">65</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">11</span><span class="cm-bracket">]</span> <span class="cm-meta">=</span> <span class="cm-number">16'd5</span>;    <span class="cm-comment">// 0.028 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">66</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">12</span><span class="cm-bracket">]</span> <span class="cm-meta">=</span> <span class="cm-number">16'd2</span>;    <span class="cm-comment">// 0.014 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">67</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">13</span><span class="cm-bracket">]</span> <span class="cm-meta">=</span> <span class="cm-number">16'd1</span>;    <span class="cm-comment">// 0.007 deg</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">68</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">14</span><span class="cm-bracket">]</span> <span class="cm-meta">=</span> <span class="cm-number">16'd1</span>;    <span class="cm-comment">// 0.003 deg (precision limit)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">69</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-number">15</span><span class="cm-bracket">]</span> <span class="cm-meta">=</span> <span class="cm-number">16'd0</span>;    <span class="cm-comment">// 0.002 deg (precision limit)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">70</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">71</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">72</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">//--------------------------------------------------------------------------</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">73</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">// 2. Internal Registers for the Pipeline</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">74</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">//--------------------------------------------------------------------------</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">75</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">reg</span> <span class="cm-keyword">signed</span> <span class="cm-bracket">[</span><span class="cm-variable">DATA_WIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">x_pipe</span> <span class="cm-bracket">[</span><span class="cm-number">0</span>:<span class="cm-variable">ITERATIONS</span><span class="cm-bracket">]</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">76</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">reg</span> <span class="cm-keyword">signed</span> <span class="cm-bracket">[</span><span class="cm-variable">DATA_WIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">y_pipe</span> <span class="cm-bracket">[</span><span class="cm-number">0</span>:<span class="cm-variable">ITERATIONS</span><span class="cm-bracket">]</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">77</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">reg</span> <span class="cm-keyword">signed</span> <span class="cm-bracket">[</span><span class="cm-variable">DATA_WIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">z_pipe</span> <span class="cm-bracket">[</span><span class="cm-number">0</span>:<span class="cm-variable">ITERATIONS</span><span class="cm-bracket">]</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">78</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">79</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">//--------------------------------------------------------------------------</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">80</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">// 3. State Machine for control</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">81</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">//--------------------------------------------------------------------------</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">82</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">localparam</span> <span class="cm-variable">S_IDLE</span>    <span class="cm-meta">=</span> <span class="cm-number">2'b00</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">83</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">localparam</span> <span class="cm-variable">S_COMPUTE</span> <span class="cm-meta">=</span> <span class="cm-number">2'b01</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">84</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">localparam</span> <span class="cm-variable">S_DONE</span>    <span class="cm-meta">=</span> <span class="cm-number">2'b10</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">85</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">86</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">state</span>, <span class="cm-variable">next_state</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">87</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">4</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">iteration_counter</span>; <span class="cm-comment">// Counter for pipeline stages</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">88</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">89</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">always</span> <span class="cm-def">@</span><span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">clk</span> <span class="cm-keyword">or</span> <span class="cm-keyword">negedge</span> <span class="cm-variable">rst_n</span><span class="cm-bracket">)</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">90</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">rst_n</span><span class="cm-bracket">)</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">91</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-variable">state</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">S_IDLE</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">92</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-keyword">end</span> <span class="cm-keyword">else</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">93</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-variable">state</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">next_state</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">94</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">95</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">96</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">97</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">// State transition logic</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">98</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">always</span> <span class="cm-def">@</span><span class="cm-bracket">(</span><span class="cm-meta">*</span><span class="cm-bracket">)</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">99</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-variable">next_state</span> <span class="cm-meta">=</span> <span class="cm-variable">state</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">100</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-keyword">case</span><span class="cm-bracket">(</span><span class="cm-variable">state</span><span class="cm-bracket">)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">101</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-variable">S_IDLE</span>: <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">start</span><span class="cm-bracket">)</span> <span class="cm-variable">next_state</span> <span class="cm-meta">=</span> <span class="cm-variable">S_COMPUTE</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">102</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-variable">S_COMPUTE</span>: <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">iteration_counter</span> <span class="cm-meta">==</span> <span class="cm-variable">ITERATIONS</span><span class="cm-bracket">)</span> <span class="cm-variable">next_state</span> <span class="cm-meta">=</span> <span class="cm-variable">S_DONE</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">103</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-variable">S_DONE</span>: <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">start</span><span class="cm-bracket">)</span> <span class="cm-variable">next_state</span> <span class="cm-meta">=</span> <span class="cm-variable">S_IDLE</span>; <span class="cm-comment">// Wait for start to go low before restarting</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">104</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-keyword">endcase</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">105</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">106</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">107</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">//--------------------------------------------------------------------------</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">108</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">// 4. Datapath and Pipeline Logic</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">109</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">//--------------------------------------------------------------------------</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">110</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">integer</span> <span class="cm-variable">i</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">111</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">112</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">always</span> <span class="cm-def">@</span><span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">clk</span> <span class="cm-keyword">or</span> <span class="cm-keyword">negedge</span> <span class="cm-variable">rst_n</span><span class="cm-bracket">)</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">113</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">rst_n</span><span class="cm-bracket">)</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">114</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-comment">// Reset logic</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">115</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-keyword">for</span> <span class="cm-bracket">(</span><span class="cm-variable">i</span><span class="cm-meta">=</span><span class="cm-number">0</span>; <span class="cm-variable">i</span><span class="cm-meta">&lt;=</span><span class="cm-variable">ITERATIONS</span>; <span class="cm-variable">i</span><span class="cm-meta">=</span><span class="cm-variable">i</span><span class="cm-meta">+</span><span class="cm-number">1</span><span class="cm-bracket">)</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">116</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-variable">x_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">0</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">117</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-variable">y_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">0</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">118</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-variable">z_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">0</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">119</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">120</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-variable">x_out</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">0</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">121</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-variable">y_out</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">0</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">122</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-variable">done</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">0</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">123</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-variable">iteration_counter</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">0</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">124</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-keyword">end</span> <span class="cm-keyword">else</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">125</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-keyword">case</span><span class="cm-bracket">(</span><span class="cm-variable">state</span><span class="cm-bracket">)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">126</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-variable">S_IDLE</span>: <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">127</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-variable">done</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">0</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">128</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-variable">iteration_counter</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">0</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">129</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-comment">// When 'start' is asserted, load initial values into the first stage</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">130</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">start</span><span class="cm-bracket">)</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">131</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                        <span class="cm-variable">x_pipe</span><span class="cm-bracket">[</span><span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">16'd9950</span>;  <span class="cm-comment">// Initial X = 1/K (0.60725) in Q2.14</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">132</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                        <span class="cm-variable">y_pipe</span><span class="cm-bracket">[</span><span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">16'd0</span>;     <span class="cm-comment">// Initial Y = 0</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">133</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                        <span class="cm-variable">z_pipe</span><span class="cm-bracket">[</span><span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">angle_in</span>;  <span class="cm-comment">// Load the target angle</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">134</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">135</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">136</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">137</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-variable">S_COMPUTE</span>: <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">138</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-comment">// This loop describes the connections between pipeline stages.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">139</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-comment">// It generates a chain of adders/subtractors and shifters.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">140</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-keyword">for</span> <span class="cm-bracket">(</span><span class="cm-variable">i</span><span class="cm-meta">=</span><span class="cm-number">0</span>; <span class="cm-variable">i</span><span class="cm-meta">&lt;</span><span class="cm-variable">ITERATIONS</span>; <span class="cm-variable">i</span><span class="cm-meta">=</span><span class="cm-variable">i</span><span class="cm-meta">+</span><span class="cm-number">1</span><span class="cm-bracket">)</span> <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">141</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                        <span class="cm-comment">// Determine rotation direction based on the sign of z</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">142</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                        <span class="cm-comment">// If z is negative, we need to rotate clockwise (+).</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">143</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                        <span class="cm-comment">// If z is positive, we need to rotate counter-clockwise (-).</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">144</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                        <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">z_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">][</span><span class="cm-variable">DATA_WIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span><span class="cm-bracket">])</span> <span class="cm-keyword">begin</span> <span class="cm-comment">// z is negative</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">145</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                            <span class="cm-variable">x_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-meta">+</span><span class="cm-number">1</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">x_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">+</span> <span class="cm-bracket">(</span><span class="cm-variable">y_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">&gt;&gt;&gt;</span> <span class="cm-variable">i</span><span class="cm-bracket">)</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">146</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                            <span class="cm-variable">y_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-meta">+</span><span class="cm-number">1</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">y_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">-</span> <span class="cm-bracket">(</span><span class="cm-variable">x_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">&gt;&gt;&gt;</span> <span class="cm-variable">i</span><span class="cm-bracket">)</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">147</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                            <span class="cm-variable">z_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-meta">+</span><span class="cm-number">1</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">z_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">+</span> <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">148</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                        <span class="cm-keyword">end</span> <span class="cm-keyword">else</span> <span class="cm-keyword">begin</span> <span class="cm-comment">// z is positive or zero</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">149</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                            <span class="cm-variable">x_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-meta">+</span><span class="cm-number">1</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">x_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">-</span> <span class="cm-bracket">(</span><span class="cm-variable">y_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">&gt;&gt;&gt;</span> <span class="cm-variable">i</span><span class="cm-bracket">)</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">150</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                            <span class="cm-variable">y_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-meta">+</span><span class="cm-number">1</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">y_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">+</span> <span class="cm-bracket">(</span><span class="cm-variable">x_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">&gt;&gt;&gt;</span> <span class="cm-variable">i</span><span class="cm-bracket">)</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">151</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                            <span class="cm-variable">z_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-meta">+</span><span class="cm-number">1</span><span class="cm-bracket">]</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">z_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span> <span class="cm-meta">-</span> <span class="cm-variable">angle_lut</span><span class="cm-bracket">[</span><span class="cm-variable">i</span><span class="cm-bracket">]</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">152</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                        <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">153</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">154</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-variable">iteration_counter</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">iteration_counter</span> <span class="cm-meta">+</span> <span class="cm-number">1</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">155</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">156</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">157</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-variable">S_DONE</span>: <span class="cm-keyword">begin</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">158</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-comment">// Computation is finished. Hold the final values.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">159</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-variable">x_out</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">x_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">ITERATIONS</span><span class="cm-bracket">]</span>; <span class="cm-comment">// Cosine result</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">160</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-variable">y_out</span> <span class="cm-meta">&lt;=</span> <span class="cm-variable">y_pipe</span><span class="cm-bracket">[</span><span class="cm-variable">ITERATIONS</span><span class="cm-bracket">]</span>; <span class="cm-comment">// Sine result</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">161</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-variable">done</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">1</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">162</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-variable">iteration_counter</span> <span class="cm-meta">&lt;=</span> <span class="cm-number">0</span>; <span class="cm-comment">// Reset for next run</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">163</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">164</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-keyword">endcase</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">165</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">166</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">end</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">167</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">endmodule</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -52px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 27px;">168</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 35px; width: 1px; border-bottom: 15px solid transparent; top: 4040px;"></div><div class="CodeMirror-gutters" style="height: 4090px;"><div class="CodeMirror-gutter CodeMirror-lint-markers"></div><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></div><div role="tabpanel" class="tab-pane" id="file1" data-filename="topmodule" data-extension="v" data-fullname="topmodule.v"><textarea style="display: none;"></textarea><div class="CodeMirror cm-s-default" translate="no"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 988px; left: 50px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; min-height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="bottom: 15px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 46px;"><div style="height: 100%; min-height: 1px; width: 711px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true" style="height: 15px; width: 15px;"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 46px; margin-bottom: -15px; border-right-width: 35px; min-height: 1064px; min-width: 710.75px; padding-right: 0px; padding-bottom: 15px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 4px; top: 984px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">================================================================================</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- Module: cordic_top.v</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- Description: Top-level wrapper for the CORDIC sine-cosine engine.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">--              Exposes only clean I/O ports for easy schematic integration.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">================================================================================</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*/</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">module</span> <span class="cm-variable">cordic_top</span><span class="cm-bracket">(</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">input</span>        <span class="cm-variable">clk</span>,          <span class="cm-comment">// System clock</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">input</span>        <span class="cm-variable">rst_n</span>,        <span class="cm-comment">// Active-low reset</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">input</span>        <span class="cm-variable">start</span>,        <span class="cm-comment">// Start signal</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">input</span>  <span class="cm-bracket">[</span><span class="cm-number">15</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">angle_in</span>,    <span class="cm-comment">// Input angle (Q2.14 format)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">output</span> <span class="cm-bracket">[</span><span class="cm-number">15</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">x_out</span>,       <span class="cm-comment">// Cos(angle_in)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">output</span> <span class="cm-bracket">[</span><span class="cm-number">15</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">y_out</span>,       <span class="cm-comment">// Sin(angle_in)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">output</span>        <span class="cm-variable">done</span>          <span class="cm-comment">// Done flag</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">// Internal wires to connect to the CORDIC core</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">wire</span> <span class="cm-keyword">signed</span> <span class="cm-bracket">[</span><span class="cm-number">15</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">x_wire</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">wire</span> <span class="cm-keyword">signed</span> <span class="cm-bracket">[</span><span class="cm-number">15</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">y_wire</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">wire</span> <span class="cm-variable">done_wire</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">// Instantiate the main CORDIC core</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">25</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-variable">cordic</span> <span class="cm-def">#</span><span class="cm-bracket">(</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">26</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        .<span class="cm-variable">DATA_WIDTH</span><span class="cm-bracket">(</span><span class="cm-number">16</span><span class="cm-bracket">)</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">27</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        .<span class="cm-variable">ITERATIONS</span><span class="cm-bracket">(</span><span class="cm-number">16</span><span class="cm-bracket">)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">28</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-bracket">)</span> <span class="cm-variable" style="background-color: yellow;">cordic_core</span><span style="background-color: yellow;"> </span><span class="cm-bracket" style="background-color: yellow;">(</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">29</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span style="background-color: yellow;">        .</span><span class="cm-variable" style="background-color: yellow;">clk</span><span class="cm-bracket" style="background-color: yellow;">(</span><span class="cm-variable" style="background-color: yellow;">clk</span><span class="cm-bracket" style="background-color: yellow;">)</span><span style="background-color: yellow;">,</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">30</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span style="background-color: yellow;">        .</span><span class="cm-variable" style="background-color: yellow;">rst_n</span><span class="cm-bracket" style="background-color: yellow;">(</span><span class="cm-variable" style="background-color: yellow;">rst_n</span><span class="cm-bracket" style="background-color: yellow;">)</span><span style="background-color: yellow;">,</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">31</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span style="background-color: yellow;">        .</span><span class="cm-variable" style="background-color: yellow;">start</span><span class="cm-bracket" style="background-color: yellow;">(</span><span class="cm-variable" style="background-color: yellow;">start</span><span class="cm-bracket" style="background-color: yellow;">)</span><span style="background-color: yellow;">,</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">32</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span style="background-color: yellow;">        .</span><span class="cm-variable" style="background-color: yellow;">angle_in</span><span class="cm-bracket" style="background-color: yellow;">(</span><span class="cm-variable" style="background-color: yellow;">angle_in</span><span class="cm-bracket" style="background-color: yellow;">)</span><span style="background-color: yellow;">,</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">33</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span style="background-color: yellow;">        .</span><span class="cm-variable" style="background-color: yellow;">x_out</span><span class="cm-bracket" style="background-color: yellow;">(</span><span class="cm-variable" style="background-color: yellow;">x_wire</span><span class="cm-bracket" style="background-color: yellow;">)</span><span style="background-color: yellow;">,</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">34</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span style="background-color: yellow;">        .</span><span class="cm-variable" style="background-color: yellow;">y_out</span><span class="cm-bracket" style="background-color: yellow;">(</span><span class="cm-variable" style="background-color: yellow;">y_wire</span><span class="cm-bracket" style="background-color: yellow;">)</span><span style="background-color: yellow;">,</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">35</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span style="background-color: yellow;">        .</span><span class="cm-variable" style="background-color: yellow;">done</span><span class="cm-bracket" style="background-color: yellow;">(</span><span class="cm-variable" style="background-color: yellow;">done_wire</span><span class="cm-bracket" style="background-color: yellow;">)</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">36</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span style="background-color: yellow;">    </span><span class="cm-bracket" style="background-color: yellow;">)</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">37</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">38</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">// Drive the outputs</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">39</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">assign</span> <span class="cm-variable">x_out</span> <span class="cm-meta">=</span> <span class="cm-variable">x_wire</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">40</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">assign</span> <span class="cm-variable">y_out</span> <span class="cm-meta">=</span> <span class="cm-variable">y_wire</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">41</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">assign</span> <span class="cm-variable">done</span>  <span class="cm-meta">=</span> <span class="cm-variable">done_wire</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">42</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">43</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">endmodule</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -46px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 16px; width: 21px;">44</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 35px; width: 1px; border-bottom: 15px solid transparent; top: 1064px;"></div><div class="CodeMirror-gutters" style="height: 1114px;"><div class="CodeMirror-gutter CodeMirror-lint-markers"></div><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></div></div></div><div id="gutter_horiz" class="gutter gutter-horizontal"></div><div class="tab-wrapper circuit-tab active"><div class="btn-group zoom-buttons-wrapper"><button class="btn btn-secondary" name="zoom-out">‚Äì</button> <button class="btn btn-secondary" name="zoom-in">+</button></div><div id="paper"><div class="joint-paper joint-theme-default djs" style="width: 578px; height: 286px;"><div class="joint-paper-background" joint-selector="background"></div><div class="joint-paper-grid" joint-selector="grid"></div><svg width="100%" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink" joint-selector="svg" id="v-2"><defs joint-selector="defs"></defs><g joint-selector="layers" class="joint-layers" transform="matrix(1,0,0,1,18,50)"><g class="joint-back-layer"></g><g class="joint-cells-layer joint-viewport"><g model-id="c39dfa1d-e089-4b85-84bc-38c5619e13f6" data-type="Wire" id="j_16" class="joint-cell joint-type-wire joint-link joint-theme-default"><path fill="none" cursor="pointer" stroke="red" stroke-linecap="round" joint-selector="wrapper" id="v-324" stroke-width="10" stroke-linejoin="round" d="M 145 25 L 150 25 C 153.33333333333331 24.999999999999996 156 25.666666666666664 158 27 L 158 27 C 159.33333333333331 28.866666666666667 160 30.866666666666667 160 33 L 160 33 C 160 35.666666666666664 160 39 160 43 L 160 43 C 160 47 161.66666666666666 50.666666666666664 165 54 L 165 54 C 168.33333333333331 57.33333333333333 173.33333333333331 58.99999999999999 180 59 L 194.97 59" stroke-opacity="0"></path><path fill="none" pointer-events="none" joint-selector="line" id="v-323" class="connection" stroke="#fc7c68" stroke-width="2px" stroke-linejoin="round" d="M 145 25 L 150 25 C 153.33333333333331 24.999999999999996 156 25.666666666666664 158 27 L 158 27 C 159.33333333333331 28.866666666666667 160 30.866666666666667 160 33 L 160 33 C 160 35.666666666666664 160 39 160 43 L 160 43 C 160 47 161.66666666666666 50.666666666666664 165 54 L 165 54 C 168.33333333333331 57.33333333333333 173.33333333333331 58.99999999999999 180 59 L 194.97 59"></path><g id="v-320" class="labels"><g id="v-321" class="label" label-idx="0" cursor="default" transform="matrix(1,0,0,1,161.6824493408203,49.624446868896484)"><text joint-selector="label" id="v-322" font-size="8pt" xml:space="preserve" y="0.8em" fill="black"><tspan dy="0" class="v-line">clk</tspan></text></g></g></g><g model-id="a10622fc-2a6c-4b27-b726-7fb569f142a2" data-type="Wire" id="j_17" class="joint-cell joint-type-wire joint-link joint-theme-default"><path fill="none" cursor="pointer" stroke="red" stroke-linecap="round" joint-selector="wrapper" id="v-329" stroke-width="10" stroke-linejoin="round" d="M 144.97 77 L 194.97 77" stroke-opacity="0"></path><path fill="none" pointer-events="none" joint-selector="line" id="v-328" class="connection" stroke="#03c03c" stroke-width="2px" stroke-linejoin="round" d="M 144.97 77 L 194.97 77"></path><g id="v-325" class="labels"><g id="v-326" class="label" label-idx="0" cursor="default" transform="matrix(1,0,0,1,169.97000122070312,77)"><text joint-selector="label" id="v-327" font-size="8pt" xml:space="preserve" y="0.8em" fill="black"><tspan dy="0" class="v-line">rst_n</tspan></text></g></g></g><g model-id="8fc19393-380e-41ea-8e80-098e45d4ef96" data-type="Wire" id="j_18" class="joint-cell joint-type-wire joint-link joint-theme-default"><path fill="none" cursor="pointer" stroke="red" stroke-linecap="round" joint-selector="wrapper" id="v-334" stroke-width="10" stroke-linejoin="round" d="M 144.97 127 L 150 127 C 153.33333333333331 126.99999999999999 156 126.33333333333331 158 125 L 158 125 C 159.33333333333331 123 160 121.33333333333333 160 120 L 160 120 C 160 118 160 115 160 111 L 160 111 C 160 107 161.66666666666666 103.33333333333333 165 100 L 165 100 C 168.33333333333331 96.66666666666666 173.33333333333331 95 180 95 L 194.97 95" stroke-opacity="0"></path><path fill="none" pointer-events="none" joint-selector="line" id="v-333" class="connection" stroke="#03c03c" stroke-width="2px" stroke-linejoin="round" d="M 144.97 127 L 150 127 C 153.33333333333331 126.99999999999999 156 126.33333333333331 158 125 L 158 125 C 159.33333333333331 123 160 121.33333333333333 160 120 L 160 120 C 160 118 160 115 160 111 L 160 111 C 160 107 161.66666666666666 103.33333333333333 165 100 L 165 100 C 168.33333333333331 96.66666666666666 173.33333333333331 95 180 95 L 194.97 95"></path><g id="v-330" class="labels"><g id="v-331" class="label" label-idx="0" cursor="default" transform="matrix(1,0,0,1,162.16615295410156,103.5347900390625)"><text joint-selector="label" id="v-332" font-size="8pt" xml:space="preserve" y="0.8em" fill="black"><tspan dy="0" class="v-line">start</tspan></text></g></g></g><g model-id="489231c1-a4d4-49e9-9475-68febd559857" data-type="Wire" id="j_19" class="joint-cell joint-type-wire joint-link joint-theme-default"><path fill="none" cursor="pointer" stroke="red" stroke-linecap="round" joint-selector="wrapper" id="v-339" stroke-width="10" stroke-linejoin="round" d="M 145 177 L 154 177 C 159.66666666666666 177 163.66666666666666 175.66666666666666 166 173 L 166 173 C 168.66666666666666 170.66666666666666 170 169 170 168 L 170 168 C 170 167.33333333333331 170 163.66666666666666 170 157 L 170 133 C 170 126.33333333333333 171.66666666666666 121.33333333333333 175 118 L 175 118 C 178.33333333333331 114.66666666666666 182.33333333333331 113 187 113 L 194.97 113" stroke-opacity="0"></path><path fill="none" pointer-events="none" joint-selector="line" id="v-338" class="connection" stroke="#779ecb" stroke-width="4px" stroke-linejoin="round" d="M 145 177 L 154 177 C 159.66666666666666 177 163.66666666666666 175.66666666666666 166 173 L 166 173 C 168.66666666666666 170.66666666666666 170 169 170 168 L 170 168 C 170 167.33333333333331 170 163.66666666666666 170 157 L 170 133 C 170 126.33333333333333 171.66666666666666 121.33333333333333 175 118 L 175 118 C 178.33333333333331 114.66666666666666 182.33333333333331 113 187 113 L 194.97 113"></path><g id="v-335" class="labels"><g id="v-336" class="label" label-idx="0" cursor="default" transform="matrix(1,0,0,1,170,145.9955596923828)"><text joint-selector="label" id="v-337" font-size="8pt" xml:space="preserve" y="0.8em" fill="black"><tspan dy="0" class="v-line">angle_in</tspan></text></g></g></g><g model-id="0c2b9f3a-1b17-4fd4-ab77-ac44bd687e51" data-type="Wire" id="j_20" class="joint-cell joint-type-wire joint-link joint-theme-default"><path fill="none" cursor="pointer" stroke="red" stroke-linecap="round" joint-selector="wrapper" id="v-344" stroke-width="10" stroke-linejoin="round" d="M 346.97 62 L 396.49 62" stroke-opacity="0"></path><path fill="none" pointer-events="none" joint-selector="line" id="v-343" class="connection" stroke="#779ecb" stroke-width="4px" stroke-linejoin="round" d="M 346.97 62 L 396.49 62"></path><g id="v-340" class="labels"><g id="v-341" class="label" label-idx="0" cursor="default" transform="matrix(1,0,0,1,371.7300109863281,62)"><text joint-selector="label" id="v-342" font-size="8pt" xml:space="preserve" y="0.8em" fill="black"><tspan dy="0" class="v-line">x_out</tspan></text></g></g></g><g model-id="90eafe91-f9eb-4965-a92b-64ecf904fdf8" data-type="Wire" id="j_21" class="joint-cell joint-type-wire joint-link joint-theme-default"><path fill="none" cursor="pointer" stroke="red" stroke-linecap="round" joint-selector="wrapper" id="v-349" stroke-width="10" stroke-linejoin="round" d="M 346.97 86 L 352 86 C 355.2 86 358.5333333333333 87.66666666666666 362 91 L 362 91 C 365.06666666666666 94.33333333333333 367.4 96 369 96 L 369 96 C 370.66666666666663 96 371.66666666666663 97 372 99 L 372 99 C 372 101 372 102 372 102 L 372 102 C 372 102 372 102 372 102 L 372 102 C 371.66666666666663 102 373.3333333333333 103.66666666666666 377 107 L 377 107 C 380 110.33333333333331 384 111.99999999999999 389 112 L 396.49 112" stroke-opacity="0"></path><path fill="none" pointer-events="none" joint-selector="line" id="v-348" class="connection" stroke="#779ecb" stroke-width="4px" stroke-linejoin="round" d="M 346.97 86 L 352 86 C 355.2 86 358.5333333333333 87.66666666666666 362 91 L 362 91 C 365.06666666666666 94.33333333333333 367.4 96 369 96 L 369 96 C 370.66666666666663 96 371.66666666666663 97 372 99 L 372 99 C 372 101 372 102 372 102 L 372 102 C 372 102 372 102 372 102 L 372 102 C 371.66666666666663 102 373.3333333333333 103.66666666666666 377 107 L 377 107 C 380 110.33333333333331 384 111.99999999999999 389 112 L 396.49 112"></path><g id="v-345" class="labels"><g id="v-346" class="label" label-idx="0" cursor="default" transform="matrix(1,0,0,1,372,99.54673767089844)"><text joint-selector="label" id="v-347" font-size="8pt" xml:space="preserve" y="0.8em" fill="black"><tspan dy="0" class="v-line">y_out</tspan></text></g></g></g><g model-id="c1da17c3-5be6-4e41-b21e-50bba34576f1" data-type="Wire" id="j_22" class="joint-cell joint-type-wire joint-link joint-theme-default"><path fill="none" cursor="pointer" stroke="red" stroke-linecap="round" joint-selector="wrapper" id="v-354" stroke-width="10" stroke-linejoin="round" d="M 346.97 110 L 352 110 C 355.1333333333333 110 357.46666666666664 111 359 113 L 359 113 C 360.66666666666663 114.33333333333331 361.66666666666663 115.99999999999999 362 118 L 362 118 C 361.66666666666663 119.33333333333333 361.66666666666663 123.33333333333333 362 130 L 362 142 C 361.66666666666663 148.66666666666666 363.3333333333333 153.66666666666666 367 157 L 367 157 C 370 160.33333333333331 375 162 382 162 L 396.49 162" stroke-opacity="0"></path><path fill="none" pointer-events="none" joint-selector="line" id="v-353" class="connection" stroke="#03c03c" stroke-width="2px" stroke-linejoin="round" d="M 346.97 110 L 352 110 C 355.1333333333333 110 357.46666666666664 111 359 113 L 359 113 C 360.66666666666663 114.33333333333331 361.66666666666663 115.99999999999999 362 118 L 362 118 C 361.66666666666663 119.33333333333333 361.66666666666663 123.33333333333333 362 130 L 362 142 C 361.66666666666663 148.66666666666666 363.3333333333333 153.66666666666666 367 157 L 367 157 C 370 160.33333333333331 375 162 382 162 L 396.49 162"></path><g id="v-350" class="labels"><g id="v-351" class="label" label-idx="0" cursor="default" transform="matrix(1,0,0,1,361.9618225097656,144.0907440185547)"><text joint-selector="label" id="v-352" font-size="8pt" xml:space="preserve" y="0.8em" fill="black"><tspan dy="0" class="v-line">done</tspan></text></g></g></g><!--z-index:1--><g model-id="dev0" data-type="Clock" id="j_23" class="joint-cell joint-type-clock joint-element joint-theme-default" magnet="false" fill="#ffffff" stroke="none" transform="translate(90,10)"><text joint-selector="label" id="v-181" font-size="8pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="middle" transform="matrix(1,0,0,1,15,33)" class="label"><tspan dy="0" class="v-line">clk</tspan></text><rect joint-selector="body" id="v-179" stroke="black" stroke-width="2" width="30" height="30" class="body"></rect><path d="M7.5 7.5 L7.5 22.5 L15 22.5 L15 7.5 L22.5 7.5 L22.5 22.5" stroke="black" class="decor"></path><foreignobject joint-selector="tooltip" id="v-180" height="30" width="55" transform="matrix(1,0,0,1,0,-30)" class="tooltip"><body style="cursor: auto;"><input type="number" min="1" step="1"></body></foreignobject><g id="v-182" class="joint-port" transform="matrix(1,0,0,1,30,15)"><g id="v-183" port="out" port-group="out" class="joint-port-body"><line joint-selector="wire" id="v-184" stroke="#4B4F6A" x1="0" y1="0" x2="25" y2="0" class="wire"></line><circle joint-selector="port" id="v-185" magnet="true" r="7" stroke="#fc7c68" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,25,0)" class="port"></circle><text joint-selector="bits" id="v-186" class="bits" font-size="7pt" xml:space="preserve" display="none" y="0.8em" fill="black" text-anchor="end" transform="matrix(1,0,0,1,17,-10)"><tspan dy="0" style="fill-opacity: 0; stroke-opacity: 0;" class="v-line v-empty-line">-</tspan></text><text joint-selector="iolabel" id="v-187" text-vertical-anchor="middle" fill="black" font-size="8pt" text-anchor="end" transform="matrix(1,0,0,1,-5,0)" class="iolabel"></text><path joint-selector="decor" id="v-188" stroke="black" fill="transparent" class="decor"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-189" y=".3em" text-anchor="end"></text></g></g><g model-id="dev1" data-type="Button" id="j_24" class="joint-cell joint-type-button joint-element joint-theme-default" magnet="false" fill="#ffffff" stroke="none" transform="translate(89.96875,62)"><text joint-selector="label" id="v-192" font-size="8pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="middle" transform="matrix(1,0,0,1,15,33)" class="label"><tspan dy="0" class="v-line">rst_n</tspan></text><rect joint-selector="body" id="v-191" stroke="black" stroke-width="2" width="30" height="30" class="body"></rect><rect joint-selector="btnface" id="v-190" stroke="black" stroke-width="2" cursor="pointer" height="18" width="18" transform="matrix(1,0,0,1,6,6)" class="btnface" fill="black"></rect><g id="v-193" class="joint-port" transform="matrix(1,0,0,1,30,15)"><g id="v-194" port="out" port-group="out" class="joint-port-body"><line joint-selector="wire" id="v-195" stroke="#4B4F6A" x1="0" y1="0" x2="25" y2="0" class="wire"></line><circle joint-selector="port" id="v-196" magnet="true" r="7" stroke="#03c03c" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,25,0)" class="port"></circle><text joint-selector="bits" id="v-197" class="bits" font-size="7pt" xml:space="preserve" display="none" y="0.8em" fill="black" text-anchor="end" transform="matrix(1,0,0,1,17,-10)"><tspan dy="0" style="fill-opacity: 0; stroke-opacity: 0;" class="v-line v-empty-line">-</tspan></text><text joint-selector="iolabel" id="v-198" text-vertical-anchor="middle" fill="black" font-size="8pt" text-anchor="end" transform="matrix(1,0,0,1,-5,0)" class="iolabel"></text><path joint-selector="decor" id="v-199" stroke="black" fill="transparent" class="decor"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-200" y=".3em" text-anchor="end"></text></g></g><g model-id="dev2" data-type="Button" id="j_25" class="joint-cell joint-type-button joint-element joint-theme-default" magnet="false" fill="#ffffff" stroke="none" transform="translate(89.96875,112)"><text joint-selector="label" id="v-203" font-size="8pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="middle" transform="matrix(1,0,0,1,15,33)" class="label"><tspan dy="0" class="v-line">start</tspan></text><rect joint-selector="body" id="v-202" stroke="black" stroke-width="2" width="30" height="30" class="body"></rect><rect joint-selector="btnface" id="v-201" stroke="black" stroke-width="2" cursor="pointer" height="18" width="18" transform="matrix(1,0,0,1,6,6)" class="btnface" fill="black"></rect><g id="v-204" class="joint-port" transform="matrix(1,0,0,1,30,15)"><g id="v-205" port="out" port-group="out" class="joint-port-body"><line joint-selector="wire" id="v-206" stroke="#4B4F6A" x1="0" y1="0" x2="25" y2="0" class="wire"></line><circle joint-selector="port" id="v-207" magnet="true" r="7" stroke="#03c03c" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,25,0)" class="port"></circle><text joint-selector="bits" id="v-208" class="bits" font-size="7pt" xml:space="preserve" display="none" y="0.8em" fill="black" text-anchor="end" transform="matrix(1,0,0,1,17,-10)"><tspan dy="0" style="fill-opacity: 0; stroke-opacity: 0;" class="v-line v-empty-line">-</tspan></text><text joint-selector="iolabel" id="v-209" text-vertical-anchor="middle" fill="black" font-size="8pt" text-anchor="end" transform="matrix(1,0,0,1,-5,0)" class="iolabel"></text><path joint-selector="decor" id="v-210" stroke="black" fill="transparent" class="decor"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-211" y=".3em" text-anchor="end"></text></g></g><g model-id="dev3" data-type="NumEntry" id="j_26" class="joint-cell joint-type-numentry joint-element joint-theme-default" magnet="false" fill="#ffffff" stroke="none" transform="translate(12,162)"><text joint-selector="label" id="v-215" class="label" font-size="8pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="middle" transform="matrix(1,0,0,1,54,33)"><tspan dy="0" class="v-line">angle_in</tspan></text><rect joint-selector="body" id="v-213" class="body" stroke="black" stroke-width="2" width="107.96875" height="30"></rect><foreignobject joint-selector="tooltip" id="v-214" class="tooltip" height="30" width="107.96875" transform="matrix(1,0,0,1,0,-30)"><body style="cursor: auto;"><select class="numbase"><option value="bin">bin</option><option value="dec">dec</option><option value="dec2c">dec2c</option><option value="hex">hex</option><option value="oct">oct</option></select></body></foreignobject><foreignobject id="v-212" width="97.96875" height="20" class="valinput" transform="matrix(1,0,0,1,5,5)"><body style="cursor: auto;"><input type="text"></body></foreignobject><g id="v-216" class="joint-port" transform="matrix(1,0,0,1,108,15)"><g id="v-217" port="out" port-group="out" class="joint-port-body"><line joint-selector="wire" id="v-218" stroke="#4B4F6A" x1="0" y1="0" x2="25" y2="0" class="wire"></line><circle joint-selector="port" id="v-219" magnet="true" r="7" stroke="#779ecb" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,25,0)" class="port"></circle><text joint-selector="bits" id="v-220" class="bits" font-size="7pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="end" transform="matrix(1,0,0,1,17,-10)"><tspan dy="0" class="v-line">16</tspan></text><text joint-selector="iolabel" id="v-221" text-vertical-anchor="middle" fill="black" font-size="8pt" text-anchor="end" transform="matrix(1,0,0,1,-5,0)" class="iolabel"></text><path joint-selector="decor" id="v-222" stroke="black" fill="transparent" class="decor"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-223" y=".3em" text-anchor="end"></text></g></g><g model-id="dev4" data-type="NumDisplay" id="j_27" class="joint-cell joint-type-numdisplay joint-element joint-theme-default" magnet="false" fill="#ffffff" stroke="none" transform="translate(421.4947929382324,47)"><text joint-selector="label" id="v-227" font-size="8pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="middle" transform="matrix(1,0,0,1,54,33)" class="label"><tspan dy="0" class="v-line">x_out</tspan></text><rect joint-selector="body" id="v-225" stroke="black" stroke-width="2" width="107.96875" height="30" class="body"></rect><foreignobject joint-selector="tooltip" id="v-226" height="30" width="107.96875" transform="matrix(1,0,0,1,0,-30)" class="tooltip"><body style="cursor: auto;"><select class="numbase"><option value="bin">bin</option><option value="dec">dec</option><option value="dec2c">dec2c</option><option value="hex">hex</option><option value="oct">oct</option></select></body></foreignobject><text joint-selector="value" id="v-224" font-size="8pt" xml:space="preserve" fill="black" transform="matrix(1,0,0,1,54,15)" class="value numvalue"><tspan dy="0.3em" class="v-line">9398</tspan></text><g id="v-228" class="joint-port" transform="matrix(1,0,0,1,0,15)"><g id="v-229" port="in" port-group="in" class="joint-port-body"><line joint-selector="wire" id="v-230" stroke="#4B4F6A" x1="0" y1="0" x2="-25" y2="0" class="wire"></line><circle joint-selector="port" id="v-231" magnet="passive" r="7" stroke="#779ecb" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,-25,0)" class="port"></circle><text joint-selector="bits" id="v-232" class="bits" font-size="7pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="start" transform="matrix(1,0,0,1,-17,-10)"><tspan dy="0" class="v-line">16</tspan></text><text joint-selector="iolabel" id="v-233" text-vertical-anchor="middle" fill="black" font-size="8pt" text-anchor="start" transform="matrix(1,0,0,1,5,0)" class="iolabel"></text><path joint-selector="decor" id="v-234" stroke="black" fill="transparent" class="decor"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-235" y=".3em" text-anchor="end"></text></g></g><g model-id="dev5" data-type="NumDisplay" id="j_28" class="joint-cell joint-type-numdisplay joint-element joint-theme-default" magnet="false" fill="#ffffff" stroke="none" transform="translate(421.4947929382324,97)"><text joint-selector="label" id="v-239" font-size="8pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="middle" transform="matrix(1,0,0,1,54,33)" class="label"><tspan dy="0" class="v-line">y_out</tspan></text><rect joint-selector="body" id="v-237" stroke="black" stroke-width="2" width="107.96875" height="30" class="body"></rect><foreignobject joint-selector="tooltip" id="v-238" height="30" width="107.96875" transform="matrix(1,0,0,1,0,-30)" class="tooltip"><body style="cursor: auto;"><select class="numbase"><option value="bin">bin</option><option value="dec">dec</option><option value="dec2c">dec2c</option><option value="hex">hex</option><option value="oct">oct</option></select></body></foreignobject><text joint-selector="value" id="v-236" font-size="8pt" xml:space="preserve" fill="black" transform="matrix(1,0,0,1,54,15)" class="value numvalue"><tspan dy="0.3em" class="v-line">13422</tspan></text><g id="v-240" class="joint-port" transform="matrix(1,0,0,1,0,15)"><g id="v-241" port="in" port-group="in" class="joint-port-body"><line joint-selector="wire" id="v-242" stroke="#4B4F6A" x1="0" y1="0" x2="-25" y2="0" class="wire"></line><circle joint-selector="port" id="v-243" magnet="passive" r="7" stroke="#779ecb" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,-25,0)" class="port"></circle><text joint-selector="bits" id="v-244" class="bits" font-size="7pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="start" transform="matrix(1,0,0,1,-17,-10)"><tspan dy="0" class="v-line">16</tspan></text><text joint-selector="iolabel" id="v-245" text-vertical-anchor="middle" fill="black" font-size="8pt" text-anchor="start" transform="matrix(1,0,0,1,5,0)" class="iolabel"></text><path joint-selector="decor" id="v-246" stroke="black" fill="transparent" class="decor"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-247" y=".3em" text-anchor="end"></text></g></g><g model-id="dev6" data-type="Lamp" id="j_29" class="joint-cell joint-type-lamp joint-element joint-theme-default" magnet="false" fill="#ffffff" stroke="none" transform="translate(421.4947929382324,147)"><text joint-selector="label" id="v-250" font-size="8pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="middle" transform="matrix(1,0,0,1,15,33)" class="label"><tspan dy="0" class="v-line">done</tspan></text><rect joint-selector="body" id="v-249" stroke="black" stroke-width="2" width="30" height="30" class="body"></rect><circle joint-selector="led" id="v-248" r="10.5" transform="matrix(1,0,0,1,15,15)" class="led" fill="#03c03c"></circle><g id="v-251" class="joint-port" transform="matrix(1,0,0,1,0,15)"><g id="v-252" port="in" port-group="in" class="joint-port-body"><line joint-selector="wire" id="v-253" stroke="#4B4F6A" x1="0" y1="0" x2="-25" y2="0" class="wire"></line><circle joint-selector="port" id="v-254" magnet="passive" r="7" stroke="#03c03c" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,-25,0)" class="port"></circle><text joint-selector="bits" id="v-255" class="bits" font-size="7pt" xml:space="preserve" display="none" y="0.8em" fill="black" text-anchor="start" transform="matrix(1,0,0,1,-17,-10)"><tspan dy="0" style="fill-opacity: 0; stroke-opacity: 0;" class="v-line v-empty-line">-</tspan></text><text joint-selector="iolabel" id="v-256" text-vertical-anchor="middle" fill="black" font-size="8pt" text-anchor="start" transform="matrix(1,0,0,1,5,0)" class="iolabel"></text><path joint-selector="decor" id="v-257" stroke="black" fill="transparent" class="decor"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-258" y=".3em" text-anchor="end"></text></g></g><g model-id="dev7" data-type="Subcircuit" id="j_30" class="joint-cell joint-type-subcircuit joint-element joint-theme-default" magnet="false" fill="#ffffff" stroke="none" transform="translate(219.96875,50)"><rect joint-selector="wrapper" id="v-259" stroke="red" stroke-width="10" width="101.52604293823242" height="72" stroke-opacity="0"></rect><text joint-selector="label" id="v-263" font-size="8pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="middle" transform="matrix(1,0,0,1,50.8,75)" class="label"><tspan dy="0" class="v-line">cordic_core</tspan></text><rect joint-selector="body" id="v-261" stroke="black" stroke-width="2" width="101.52604293823242" height="72" class="body"></rect><text joint-selector="type" id="v-260" font-size="8pt" xml:space="preserve" fill="black" text-anchor="middle" transform="matrix(1,0,0,1,50.8,-10)" class="type"><tspan dy="0.3em" class="v-line">$paramod$d1d1da63ada18112fafb86e24d377b3a595f87fa\cordic</tspan></text><foreignobject joint-selector="tooltip" id="v-262" height="30" width="101.52604293823242" transform="matrix(1,0,0,1,0,-30)" class="tooltip"><body style="cursor: auto;"><a class="zoom" style="cursor: pointer;">üîç</a></body></foreignobject><g id="v-264" class="joint-port" transform="matrix(1,0,0,1,0,9)"><g id="v-265" port="clk" port-group="in" class="joint-port-body"><line joint-selector="wire" id="v-278" stroke="#4B4F6A" x1="0" y1="0" x2="-25" y2="0" class="wire"></line><circle joint-selector="port" id="v-279" magnet="passive" r="7" stroke="#fc7c68" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,-25,0)" class="port"></circle><text joint-selector="bits" id="v-280" class="bits" font-size="7pt" xml:space="preserve" display="none" y="0.8em" fill="black" text-anchor="start" transform="matrix(1,0,0,1,-17,-10)"><tspan dy="0" style="fill-opacity: 0; stroke-opacity: 0;" class="v-line v-empty-line">-</tspan></text><text joint-selector="iolabel" id="v-281" font-size="8pt" xml:space="preserve" fill="black" text-anchor="start" transform="matrix(1,0,0,1,5,0)" class="iolabel"><tspan dy="0.3em" class="v-line">clk</tspan></text><path joint-selector="decor" id="v-282" stroke="black" fill="transparent" class="decor"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-283" y=".3em" text-anchor="end"></text></g><g id="v-266" class="joint-port" transform="matrix(1,0,0,1,0,27)"><g id="v-267" port="rst_n" port-group="in" class="joint-port-body"><line joint-selector="wire" class="wire" id="v-284" stroke="#4B4F6A" x1="0" y1="0" x2="-25" y2="0"></line><circle joint-selector="port" class="port" id="v-285" magnet="passive" r="7" stroke="#03c03c" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,-25,0)"></circle><text joint-selector="bits" class="bits" id="v-286" font-size="7pt" xml:space="preserve" display="none" y="0.8em" fill="black" text-anchor="start" transform="matrix(1,0,0,1,-17,-10)"><tspan dy="0" style="fill-opacity: 0; stroke-opacity: 0;" class="v-line v-empty-line">-</tspan></text><text joint-selector="iolabel" class="iolabel" id="v-287" font-size="8pt" xml:space="preserve" fill="black" text-anchor="start" transform="matrix(1,0,0,1,5,0)"><tspan dy="0.3em" class="v-line">rst_n</tspan></text><path joint-selector="decor" class="decor" id="v-288" stroke="black" fill="transparent"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-289" y=".3em" text-anchor="end"></text></g><g id="v-268" class="joint-port" transform="matrix(1,0,0,1,0,45)"><g id="v-269" port="start" port-group="in" class="joint-port-body"><line joint-selector="wire" class="wire" id="v-290" stroke="#4B4F6A" x1="0" y1="0" x2="-25" y2="0"></line><circle joint-selector="port" class="port" id="v-291" magnet="passive" r="7" stroke="#03c03c" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,-25,0)"></circle><text joint-selector="bits" class="bits" id="v-292" font-size="7pt" xml:space="preserve" display="none" y="0.8em" fill="black" text-anchor="start" transform="matrix(1,0,0,1,-17,-10)"><tspan dy="0" style="fill-opacity: 0; stroke-opacity: 0;" class="v-line v-empty-line">-</tspan></text><text joint-selector="iolabel" class="iolabel" id="v-293" font-size="8pt" xml:space="preserve" fill="black" text-anchor="start" transform="matrix(1,0,0,1,5,0)"><tspan dy="0.3em" class="v-line">start</tspan></text><path joint-selector="decor" class="decor" id="v-294" stroke="black" fill="transparent"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-295" y=".3em" text-anchor="end"></text></g><g id="v-270" class="joint-port" transform="matrix(1,0,0,1,0,63)"><g id="v-271" port="angle_in" port-group="in" class="joint-port-body"><line joint-selector="wire" class="wire" id="v-296" stroke="#4B4F6A" x1="0" y1="0" x2="-25" y2="0"></line><circle joint-selector="port" class="port" id="v-297" magnet="passive" r="7" stroke="#779ecb" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,-25,0)"></circle><text joint-selector="bits" class="bits" id="v-298" font-size="7pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="start" transform="matrix(1,0,0,1,-17,-10)"><tspan dy="0" class="v-line">16</tspan></text><text joint-selector="iolabel" class="iolabel" id="v-299" font-size="8pt" xml:space="preserve" fill="black" text-anchor="start" transform="matrix(1,0,0,1,5,0)"><tspan dy="0.3em" class="v-line">angle_in</tspan></text><path joint-selector="decor" class="decor" id="v-300" stroke="black" fill="transparent"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-301" y=".3em" text-anchor="end"></text></g><g id="v-272" class="joint-port" transform="matrix(1,0,0,1,102,12)"><g id="v-273" port="x_out" port-group="out" class="joint-port-body"><line joint-selector="wire" class="wire" id="v-302" stroke="#4B4F6A" x1="0" y1="0" x2="25" y2="0"></line><circle joint-selector="port" class="port" id="v-303" magnet="true" r="7" stroke="#779ecb" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,25,0)"></circle><text joint-selector="bits" class="bits" id="v-304" font-size="7pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="end" transform="matrix(1,0,0,1,17,-10)"><tspan dy="0" class="v-line">16</tspan></text><text joint-selector="iolabel" class="iolabel" id="v-305" font-size="8pt" xml:space="preserve" fill="black" text-anchor="end" transform="matrix(1,0,0,1,-5,0)"><tspan dy="0.3em" class="v-line">x_out</tspan></text><path joint-selector="decor" class="decor" id="v-306" stroke="black" fill="transparent"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-307" y=".3em" text-anchor="end"></text></g><g id="v-274" class="joint-port" transform="matrix(1,0,0,1,102,36)"><g id="v-275" port="y_out" port-group="out" class="joint-port-body"><line joint-selector="wire" class="wire" id="v-308" stroke="#4B4F6A" x1="0" y1="0" x2="25" y2="0"></line><circle joint-selector="port" class="port" id="v-309" magnet="true" r="7" stroke="#779ecb" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,25,0)"></circle><text joint-selector="bits" class="bits" id="v-310" font-size="7pt" xml:space="preserve" y="0.8em" fill="black" text-anchor="end" transform="matrix(1,0,0,1,17,-10)"><tspan dy="0" class="v-line">16</tspan></text><text joint-selector="iolabel" class="iolabel" id="v-311" font-size="8pt" xml:space="preserve" fill="black" text-anchor="end" transform="matrix(1,0,0,1,-5,0)"><tspan dy="0.3em" class="v-line">y_out</tspan></text><path joint-selector="decor" class="decor" id="v-312" stroke="black" fill="transparent"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-313" y=".3em" text-anchor="end"></text></g><g id="v-276" class="joint-port" transform="matrix(1,0,0,1,102,60)"><g id="v-277" port="done" port-group="out" class="joint-port-body"><line joint-selector="wire" class="wire" id="v-314" stroke="#4B4F6A" x1="0" y1="0" x2="25" y2="0"></line><circle joint-selector="port" class="port" id="v-315" magnet="true" r="7" stroke="#03c03c" fill="white" stroke-width="2" stroke-opacity="0.5" transform="matrix(1,0,0,1,25,0)"></circle><text joint-selector="bits" class="bits" id="v-316" font-size="7pt" xml:space="preserve" display="none" y="0.8em" fill="black" text-anchor="end" transform="matrix(1,0,0,1,17,-10)"><tspan dy="0" style="fill-opacity: 0; stroke-opacity: 0;" class="v-line v-empty-line">-</tspan></text><text joint-selector="iolabel" class="iolabel" id="v-317" font-size="8pt" xml:space="preserve" fill="black" text-anchor="end" transform="matrix(1,0,0,1,-5,0)"><tspan dy="0.3em" class="v-line">done</tspan></text><path joint-selector="decor" class="decor" id="v-318" stroke="black" fill="transparent"></path></g><text fill="#000000" joint-selector="text" class="joint-port-label" transform="matrix(1,0,0,1,-15,0)" id="v-319" y=".3em" text-anchor="end"></text></g></g><!--z-index:2--></g><g class="joint-labels-layer joint-viewport"></g><g class="joint-front-layer"></g><g class="joint-tools-layer"><!--z-index:1--></g></g></svg></div></div></div></div><div id="gutter_vert" class="gutter gutter-vertical"></div><div id="monitorbox"><div class="btn-toolbar" role="toolbar" aria-label="Toolbar"><div class="symbola btn-group mr-2" role="group" aria-label="Scale control"><button name="ppt_up" type="button" class="btn btn-secondary" title="Increase pixels per tick">+</button> <button name="ppt_down" type="button" class="btn btn-secondary" title="Decrease pixels per tick">-</button></div><div class="input-group mr-2"><div class="input-group-prepend"><span class="input-group-text" title="Ticks per grid line">scale</span></div><input class="form-control" disabled="disabled" name="scale"></div><div class="symbola btn-group mr-2" role="group" aria-label="Time control"><button name="live" type="button" class="btn btn-secondary active" title="Live mode">‚ñ∂</button> <button name="left" type="button" class="btn btn-secondary" title="Move left">‚Üê</button> <button name="right" type="button" class="btn btn-secondary" title="Move right">‚Üí</button></div><div class="input-group mr-2"><div class="input-group-prepend"><span class="input-group-text" title="Display range">range</span></div><input class="form-control" disabled="disabled" name="rangel"><div class="input-group-prepend input-group-append"><span class="input-group-text">‚Äì</span></div><input class="form-control" disabled="disabled" name="rangeh"></div></div><div id="monitor"><table class="monitor"></table></div></div></div></div><div id="tab-buttons-wrapper"><button class="tab-btn editor-tab"><strong style="font-size: 1.2em">&lt;/&gt;</strong><br><span style="line-height: 90%">Code</span></button> <button class="tab-btn circuit-tab active"><svg alt="" height="27" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 224 224" xml:space="preserve"><path d="M200 122c-11.869 0-21.725 8.668-23.639 20H160c-13.234 0-24 10.76-24 23.986V210h8v-44.014c0-8.814 7.178-15.986 16-15.986h16.361c1.913 11.332 11.77 20 23.639 20 13.234 0 24-10.766 24-24s-10.766-24-24-24zm0 40c-8.822 0-16-7.178-16-16s7.178-16 16-16 16 7.178 16 16-7.178 16-16 16zM92 62H76c0-13.234-10.766-24-24-24S28 48.766 28 62s10.766 24 24 24c10.426 0 19.295-6.693 22.6-16H92c8.822 0 16 7.188 16 16.024V210h8V86.024C116 72.777 105.234 62 92 62zM52 78c-8.822 0-16-7.178-16-16s7.178-16 16-16 16 7.178 16 16-7.178 16-16 16z"></path><path d="M64 122H47.639c-1.914-11.332-11.77-20-23.639-20-13.234 0-24 10.766-24 24s10.766 24 24 24c11.869 0 21.725-8.668 23.639-20H64c8.822 0 16 7.184 16 16.014V210h8v-63.986C88 132.774 77.234 122 64 122zm-40 20c-8.822 0-16-7.178-16-16s7.178-16 16-16 16 7.178 16 16-7.178 16-16 16zM163.461 94h12.9c1.913 11.332 11.77 20 23.639 20 13.234 0 24-10.766 24-24s-10.766-24-24-24c-11.869 0-21.725 8.668-23.639 20h-12.9c-6.297 0-11.42-5.125-11.42-11.426V14h-8v60.574c0 10.711 8.711 19.426 19.42 19.426zM200 74c8.822 0 16 7.178 16 16s-7.178 16-16 16-16-7.178-16-16 7.178-16 16-16z"></path></svg><br>Circuit</button></div></body></html>